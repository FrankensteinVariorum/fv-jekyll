{"version":3,"sources":["images/intensity_legend.svg","data/xml-cache.ts","tei-processing/helpers.ts","data/edition.ts","data/spine.ts","data/store.ts","components/helpers/EditionDot.tsx","components/PageLayout/EditionSelector.tsx","components/tei/TeiReactElement.tsx","components/tei/TeiReactText.tsx","components/tei/TeiAppWrapper.tsx","tei-processing/tei-converter.ts","components/tei/TeiContainer.tsx","components/PageLayout/Paging.tsx","components/PageLayout/Header.tsx","components/PageLayout/OptionsSelector.tsx","components/Variations/ReadingGroupComponent.tsx","components/Variations/Variation.tsx","components/Viewer/Viewer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","XmlCache","Object","classCallCheck","this","_xmls","_promises","Map","url","_this","has","Promise","resolve","get","promise","fetchXML","set","then","delete","xml","DOMParser","parseFromString","fetch","response","text","doc","parseXML","evaluateXPath","xpath","resolver","createNSResolver","documentElement","evaluate","err","console","error","concat","xpathResult","nodes","node","iterateNext","push","findElementByXmlId","xmlId","attrName","startsWith","idResults","length","Error","documentCount","Edition","code","name","chunks","createClass","key","value","chunkId","chunkStr","_getXML","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","FvStore","cache","getXML","getChunkUrl","abrupt","sent","stop","_x","apply","arguments","document","EditionWithBody","_Edition","possibleConstructorReturn","getPrototypeOf","inherits","getElementsByTagName","MSEdition","_Edition2","map","n","Chunk","edition","chunkNumber","tei","spine","mainRoots","marginRoots","variations","getMainRootElements","getMarginRootElements","appRef","app","apps","find","id","_load","_callee2","chunk","_context2","getSpine","initialize","_x2","_x3","ReadingGroup","apparatus","groupId","editions","element","pointers","fillEditions","fillPointers","buildElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","ptr","indexOf","return","filter","implementation","createDocument","group","createElement","children","dereferenced","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","clone","cloneNode","appendChild","Apparatus","_groups","idAttr","attributes","getNamedItem","nAttr","parseInt","parsePointers","_this2","groupSet","Set","Array","from","grp","_this3","el","parsePointer","ptrElement","rdgElement","parentNode","tagName","witAttr","editionCode","substr","getEdition","rdgGroupElement","grpIdAttr","targetAttr","parts","split","referencedUrl","referencedTarget","ed","groups","Spine","_apps","_xml","_initialized","_initializationPromise","_this4","innerInitialize","_innerInitialize","parseApps","fetchAllReferences","rewriteStringRanges","dereferencePointers","addBackPointers","buildGroupsInApps","_parseApps","_callee3","appElements","_context3","_fetchAllReferences","_callee4","allUrls","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","urls","unique","promises","_context4","t0","finish","all","_rewriteStringRanges","_callee5","re","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_loop","_iterator4","_step4","_this5","_context6","_wrapRegExp","start","invalidPointers","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","match","stringRange","validPointers","_context5","rewriteStringRange","add","t1","delegateYield","_rewriteStringRange","_callee6","range","targetDoc","targetNodes","targetElement","mockIdAttr","_context7","mockElementCount","setAttribute","_dereferencePointers","_callee7","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_loop2","_iterator6","_step6","_context9","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","_document","_context8","outerHTML","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","buildGroups","FvStoreClass","spines","i","sp","instance","EditionDot","classes","props","small","react_default","className","React","Component","EditionSelector","state","availableEditions","selectedEdition","componentDidMount","index","label","helpers_EditionDot","setState","onEditionSelected","editionChanged","selectedOption","warn","prevProps","option","react_select_browser_esm","onChange","options","TeiReactElement","tag","closingTag","htmlTag","data-tei-tag","ReactHtmlParser","TeiReactText","showText","TeiAppWrapper","onClick","showVariations","onAppClick","intensity","getOtherGroups","dotElements","groupDots","dotClasses","TeiConverter","teiTag","nodeAttributes","valueProps","nodeName","nodeValue","reactChildren","hasChildNodes","childNodes","childNode","childElement","nodeType","teiToReactElement","textContent","trim","teiProps","buildProperties","getHtmlTag","reactElement","getApp","TeiRendering","elements","getTeiObjects","converter","root","Paging","chunkIndex","availableChunks","disablePrev","disableNext","onChunkChanged","findIndex","opt","toString","onChunkSelected","updateChunk","delta","newChunk","newOption","c","prevChunkIndex","firstChunk","disabled","Header","e","src","alt","OptionsSelector","onVariationChanged","newShow","onTextChanged","newShowText","type","checked","ReadingGroupComponent","title","join","dots","content","Variation","Variations_ReadingGroupComponent","Viewer","loading","onNewChunk","load","onNewEdition","onVariation","show","onText","PageLayout_EditionSelector","PageLayout_Paging","PageLayout_OptionsSelector","PageLayout_Header","TeiContainer","Variations_Variation","App","components_Viewer_Viewer","Boolean","window","location","hostname","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.318b91ff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/intensity_legend.91d6f78c.svg\";","// This class holds a cache of XML documents, fetching them from the web if they are not there\n// Every piece of code uses this, so that we can load XMLs again and again without worried about performance\n//\n// NOTE: The cache contains parsed Documents. If you change the document, it's going to be changed everywhere.\n// This is on purpose - as we add attributes and tags for pointer resolution.\n\nexport default class XmlCache {\n    private  _xmls : Map<string, Document>;  // Map from URL to a parsed XML\n    private _promises: Map<string, Promise<Document>>;\n    private static documentCount = 0;\n\n    public constructor() {\n        this._xmls = new Map<string, Document>();\n        this._promises = new Map<string, Promise<Document>>();\n    }\n\n    public getXML(url: string): Promise<Document> {\n        // This function is async, but we implement the Promises ourselves, since we also cache promises\n        // This code only works because asynchronous Javascript is single threaded (note there are no locks)\n        if (this._xmls.has(url)) {\n            return Promise.resolve(this._xmls.get(url)!);\n        }\n\n        if (this._promises.has(url)) {\n            return this._promises.get(url)!;\n        }\n\n        const promise = this.fetchXML(url);\n        this._promises.set(url, promise);\n        promise.then(() => {\n            this._promises.delete(url);\n        });\n        return promise;\n    }\n\n    private parseXML(xml: string) {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(xml, \"text/xml\");\n    \n        return doc;\n    }\n    \n    private async fetchXML(url:string) {\n        const response = await fetch(url);\n        const xml = await response.text();\n    \n        const doc = this.parseXML(xml);\n        this._xmls.set(url, doc);\n\n        return doc\n    }\n}","\nexport function evaluateXPath(doc: Document, xpath: string): Node[] {\n    const resolver = doc.createNSResolver(doc.documentElement);\n    try{\n        doc.evaluate(xpath, doc, resolver);\n    } catch(err) {\n        console.error(`xpath evaluation of ${xpath} failed: `, err);\n    }\n    const xpathResult = doc.evaluate(xpath, doc, resolver);\n    const nodes: Node[] = [];\n\n    let node = xpathResult.iterateNext();\n    while(node) {\n        nodes.push(node);\n        node = xpathResult.iterateNext();\n    }\n\n    return nodes;\n}\n\nexport function findElementByXmlId(doc: Document, xmlId: string): Element {\n    const attrName = xmlId.startsWith('mock') ? 'mock-id' : 'xml:id';\n    const xpath = `//*[@${attrName}=\"${xmlId}\"]`;\n    const idResults = evaluateXPath(doc, xpath);\n\n    if (idResults.length === 0) {\n        throw Error(`Pointer ${xmlId} references an invalid element`);\n    } else if (idResults.length > 1) {\n        throw Error(`Pointer ${xmlId} references more than one element`);\n    }\n    return idResults[0] as Element;\n}\n","import FvStore from \"./store\";\nimport { Spine } from \"./spine\";\nimport { evaluateXPath } from \"../tei-processing/helpers\";\n\nexport abstract class Edition {\n    public readonly code: string = ''; // 1818, 1823, 1831, Thomas, MS\n    public readonly name: string = '';\n    public readonly chunks: number[] = [];\n\n    constructor(code: string, name: string, chunks: number[]) {\n        this.code = code;\n        this.name = name;\n        this.chunks = chunks;\n    }\n\n    protected getChunkUrl(chunkId: number) {\n        const chunkStr = chunkId < 10 ? `0${chunkId}` : `${chunkId}`;\n        const url = `https://raw.githubusercontent.com/PghFrankenstein/fv-data/master/variorum-chunks/f${this.code}_C${chunkStr}.xml`;\n\n        return url;\n    }\n\n    public async getXML(chunkId: number) {\n        return await FvStore.cache.getXML(this.getChunkUrl(chunkId));\n    }\n\n    public abstract getMainRootElements(document: Document): Element[];\n    public getMarginRootElements(document: Document): Element[] {\n        return []; // The default behavior is no margins\n    }\n}\n\nexport class EditionWithBody extends Edition {\n    public getMainRootElements(document: Document): Element[] {\n        try {\n            return [document.getElementsByTagName('body')[0]];\n        } catch(err) {\n            console.error(`Can't located body element of ${this.code}: ${err}`);\n            throw new Error(\"Can't locate body element\");\n        }\n    }\n} \n\nexport class MSEdition extends Edition { \n    public getMainRootElements(document: Document): Element[] {\n        const xpath = \"//tei:zone[@type='main']\";\n        const nodes = evaluateXPath(document, xpath);\n        return nodes.map((n) => n as Element);\n    }\n\n    public getMarginRootElements(document: Document): Element[] {\n        const xpath = \"//tei:zone[@type='left_margin']\";\n        const nodes = evaluateXPath(document, xpath);\n        return nodes.map((n) => n as Element);\n    }\n}\n\n\nexport class Chunk {\n    public readonly edition: Edition;\n    public readonly chunkNumber: number;\n    public readonly tei: Document;\n    public readonly mainRoots: Element[];\n    public readonly marginRoots: Element[];\n    public readonly variations: Spine;\n\n    private constructor(edition: Edition, chunkNumber: number, tei: Document, spine: Spine) {\n        this.edition = edition;\n        this.chunkNumber = chunkNumber;\n        this.tei = tei;\n        this.variations = spine;\n        this.mainRoots = edition.getMainRootElements(tei);\n        this.marginRoots = edition.getMarginRootElements(tei);\n    }\n\n    public static async load(edition: Edition, chunkNumber: number): Promise<Chunk> {\n        const document = await edition.getXML(chunkNumber);\n        const spine = await FvStore.getSpine(chunkNumber);\n        await spine.initialize();\n\n        const chunk = new Chunk(edition, chunkNumber, document, spine);\n        // chunk.addAppReferences();\n\n        return chunk;\n    }\n\n    public getApp(appRef: string) {\n        const app = this.variations.apps.find((a) => a.id === appRef);\n        if(!app) {\n            throw new Error(`Can't locate app ${appRef}`);\n        }\n        return app;\n    }\n}\n","import FvStore from \"./store\";\nimport { Edition } from \"./edition\";\nimport { evaluateXPath, findElementByXmlId } from \"../tei-processing/helpers\";\n\ninterface PointerData {\n    ptrElement: Element;\n    groupId: string;\n    edition: Edition;\n    referencedUrl: string;\n    referencedTarget: string;\n\n    dereferenced?: Element;\n}\n\n// async function debug1818(where: string) {\n//     const xml = await FvStore.getEdition('1818').getXML(1);\n//     console.debug(`1818 ${where}:`)\n//     console.debug(xml.documentElement.outerHTML);\n// }\n\nexport class ReadingGroup {\n    public readonly groupId: string;\n    public readonly editions: Edition[];\n    public readonly apparatus: Apparatus;\n    public readonly element: Element;\n\n    private readonly pointers: PointerData[];\n\n    constructor(apparatus: Apparatus, groupId: string) {\n        this.groupId = groupId;\n        this.apparatus = apparatus;\n        this.editions = this.fillEditions();\n        this.pointers = this.fillPointers();\n        this.element = this.buildElement();\n    }\n\n    private fillEditions() {\n        const editions = [] as Edition[];\n        for (const ptr of this.apparatus.pointers) {\n            if (ptr.groupId === this.groupId && editions.indexOf(ptr.edition) === -1) {\n                editions.push(ptr.edition);\n            }\n        }\n\n        return editions;\n    }\n\n    private fillPointers() {\n        // Fill pointers for one of the editions in the group, as they are all identical\n        const edition = this.editions[0];\n        return this.apparatus.pointers.filter((ptr) => ptr.groupId === this.groupId && ptr.edition === edition);\n    }\n\n    private buildElement() {\n        // Build a new XML element that contains all the dereferenced pointers in this group\n        // We create a new document for each such element\n        const doc = document.implementation.createDocument(null, null, null);\n        const group = doc.createElement('rdgGrp');\n        const children = this.pointers.map((ptr) => ptr.dereferenced!);\n        for(const child of children) {\n            const clone = child.cloneNode(true);  // We must clone the node, otherwise it's detached from the original XML\n            group.appendChild(clone);\n        }\n        doc.appendChild(group);\n\n        return group;\n    }\n}\n\nexport class Apparatus {  // Content of the <app> tag\n    public readonly id: string;\n    public readonly n: number | undefined;\n    public readonly element: Element;\n\n    public pointers: PointerData[];\n    private _groups: ReadingGroup[];\n\n    constructor(element: Element) {\n        this.element = element;\n\n        const idAttr = element.attributes.getNamedItem('xml:id')\n        if (!idAttr) {\n            throw new Error('<app> tag with no xml:id');\n        }\n        this.id = idAttr.value;\n\n        const nAttr = element.attributes.getNamedItem('n');\n        this.n = nAttr ? parseInt(nAttr.value) : undefined;\n\n        this.pointers = this.parsePointers();\n        this._groups = [];\n    }\n\n    public get groups() { return this._groups; }\n\n    public buildGroups() {\n        const groupSet = new Set<string>(this.pointers.map((ptr) => ptr.groupId));\n        this._groups = Array.from(groupSet).map((grp) => new ReadingGroup(this, grp));\n    }\n\n    private parsePointers() {\n        const ptrElements = Array.from(this.element.getElementsByTagName('ptr'));\n        const ptrs = ptrElements.map((el) => this.parsePointer(el));\n\n        return ptrs;\n    }\n\n    private parsePointer(ptrElement: Element): PointerData {\n        const rdgElement = ptrElement.parentNode as Element;\n        if (!rdgElement || rdgElement.tagName !== 'rdg') {\n            throw new Error(`Parent of <ptr> is not <rdg>`);\n        }\n        const witAttr = rdgElement.attributes.getNamedItem('wit');\n        if (!witAttr) {\n            throw new Error('<rdg> element does not have a wit attribute');\n        }\n        const editionCode = witAttr.value.substr(2);  // with is #f1818, #fMS etc...\n        let edition: Edition;\n        try {\n            edition = FvStore.getEdition(editionCode);\n        } catch(err) {\n            throw new Error(`<rdg> has invalid witness ${witAttr.value}`);\n        }\n\n        const rdgGroupElement = rdgElement.parentNode as Element;\n        if(!rdgGroupElement || rdgGroupElement.tagName !== 'rdgGrp') {\n            throw new Error(`Parent of <rdg> element is not <rdgGrp>`);\n        }\n        const grpIdAttr = rdgGroupElement.attributes.getNamedItem('xml:id');\n        if (!grpIdAttr) {\n            throw new Error('<rdrGrp> has no xml:id');\n        }\n        const groupId = grpIdAttr.value;\n\n        const targetAttr = ptrElement.attributes.getNamedItem('target');\n        if (!targetAttr) {\n            throw new Error(`<ptr> element has not target attribute`);\n        }\n\n        const parts = targetAttr.value.split('#')\n        if (parts.length !== 2) {\n            throw new Error(`Target ${targetAttr.value} is not well formatted. Expected uri#xpath`);\n        }\n\n        return {\n            ptrElement,\n            edition,\n            groupId,\n            referencedUrl: parts[0],\n            referencedTarget: parts[1],\n        };\n    }\n\n    public getOtherGroups(ed: Edition) {\n        // Returns all the groups besides the one that holds this edition\n        return this.groups.filter((grp) => grp.editions.indexOf(ed) === -1);\n    }\n}\n\ninterface StringRange {\n    xpath: string,\n    start: number,\n    length: number,\n}\n\n\nexport class Spine {\n    public readonly chunkNumber: number;\n    private _apps: Apparatus[] | undefined;\n    private _xml: Document | undefined;\n    private _initialized = false;\n    private _initializationPromise?: Promise<void>;\n    private static mockElementCount = 0;\n    \n    constructor(chunk: number) {\n        this.chunkNumber = chunk\n    }\n\n    public initialize(): Promise<void> {\n        // Initialize may be called several times before the first initialization complete.\n        // We make sure initialization runs only once\n        if(this._initializationPromise) {\n            return this._initializationPromise;\n        }\n\n        this._initializationPromise = this.innerInitialize();\n        this._initializationPromise.then(() => {\n            this._initializationPromise = undefined;\n        })\n        return this._initializationPromise;\n    }\n\n    private async innerInitialize() {\n        if(this._initialized) {\n            return;\n        }\n\n        this._xml = await this.getXML();\n\n        await this.parseApps();\n        await this.fetchAllReferences();\n        await this.rewriteStringRanges();\n        await this.dereferencePointers();\n        this.addBackPointers();\n        this.buildGroupsInApps();\n        \n        this._initialized = true;\n    }\n\n    private async getXML() {\n        const chunkStr = this.chunkNumber < 10 ? `0${this.chunkNumber}` : `${this.chunkNumber}`;\n        const url = `https://raw.githubusercontent.com/PghFrankenstein/fv-data/master/standoff_Spine/spine_C${chunkStr}.xml`\n\n        const document = await FvStore.cache.getXML(url);\n        return document;\n    }\n\n    private async parseApps() {\n        if(!this._xml) {\n            throw new Error('parseApps called before getXML, which makes no sense')\n        }\n\n        const appElements = Array.from(this._xml.getElementsByTagName('app'));\n        const apps = appElements.map((app) => new Apparatus(app));\n        this._apps = apps;\n    }\n\n    public get apps(): Apparatus[] {\n        if (!this._apps) {\n            throw new Error(`Spine not initialized yet`);\n        }\n        return this._apps;\n    }\n\n    // Download all referenced XMLs concurrently (if they're not cached)\n    private async fetchAllReferences() {\n        let allUrls = [] as string[];\n\n        for(let app of this.apps) {\n            const urls = app.pointers.map((ptr) => ptr.referencedUrl);\n            allUrls = allUrls.concat(urls);\n        }\n\n        const unique = Array.from(new Set<string>(allUrls));\n        const promises = unique.map((url) => FvStore.cache.getXML(url));\n        await Promise.all(promises);  // Returns only once all URLs have been fetched\n    }\n\n    // Rewrite string ranges to ordinary pointers. \n    // This is done by adding tags in the target XML with their own ID surrounding the relevant text elements\n\n    private async rewriteStringRanges() {\n        const re = /^string-range\\((?<xpath>.+),(?<start>\\d+),(?<length>\\d+)\\)$/;\n        \n        for(let app of this.apps) {\n            const invalidPointers = new Set<PointerData>();\n            for(let ptr of app.pointers) {\n                const match = ptr.referencedTarget.match(re);\n                if (match) {\n                    const stringRange = {\n                        xpath: match.groups!.xpath,\n                        start: parseInt(match.groups!.start),\n                        length: parseInt(match.groups!.length),\n                    };\n                    try {\n                        await this.rewriteStringRange(ptr, stringRange);\n                    } catch(err) {\n                        invalidPointers.add(ptr);\n                    }\n                }\n            }\n\n            const validPointers = app.pointers.filter((ptr) => !invalidPointers.has(ptr));\n            app.pointers = validPointers;\n        }\n    }\n\n    private async rewriteStringRange(ptr: PointerData, range: StringRange) {\n        // For now - just get the xml:id of the target element and replace the pointer's target.\n        // Add an xml:id if none exists on the target element\n        const targetDoc = await FvStore.cache.getXML(ptr.referencedUrl);\n        const targetNodes = evaluateXPath(targetDoc, range.xpath);\n\n        if (targetNodes.length === 0) {\n            console.error(`string-range for xpath ${range.xpath} failed to return a node`);\n            throw Error('string-range returned no nodes');\n        }\n\n        if (targetNodes.length > 1) {\n            console.error(`string-range for xpath ${range.xpath} returned more than one node`);\n            throw Error('string-range returned more than one node');\n        }\n\n        const targetElement = targetNodes[0] as Element;\n        const idAttr = targetElement.attributes.getNamedItem('xml:id');\n        const mockIdAttr = targetElement.attributes.getNamedItem('mock-id');\n        let xmlId = '';\n        if (idAttr) {\n            xmlId = idAttr.value;\n        } else if(mockIdAttr) {\n            xmlId = mockIdAttr.value;\n        } else {\n            xmlId = `mock-id-${Spine.mockElementCount}`;\n            Spine.mockElementCount += 1;\n\n            // Adding xml:id to an existing document doesn't work fully - XPath doesn't find it\n            // unless the document is completely reparsed. So we add our own mock-id attribute instead\n            targetElement.setAttribute('mock-id', xmlId);\n        }\n\n        // Update the Pointer\n        ptr.referencedTarget = xmlId;  // In memory\n        ptr.ptrElement.setAttribute('target', `${ptr.referencedUrl}#${xmlId}`);\n    }\n\n    private async dereferencePointers() {\n        for(let app of this.apps) {\n            const invalidPointers = new Set<PointerData>();\n\n            for(let ptr of app.pointers) {\n                const document = await FvStore.cache.getXML(ptr.referencedUrl);\n                try {\n                    const element = findElementByXmlId(document, ptr.referencedTarget);\n                    ptr.dereferenced = element;\n                } catch(err) {\n                    console.error(`Pointer ${ptr.ptrElement.outerHTML} is invalid`);\n                    invalidPointers.add(ptr);\n                }\n            }\n\n            const validPointers = app.pointers.filter((ptr) => !invalidPointers.has(ptr));\n            app.pointers = validPointers\n        }\n    }\n\n    private addBackPointers() {\n        // We will add the back pointers to all editions while we're at it\n        // Backpointers are an attribute - app-ref, which contains the id of the app element\n        for(let app of this.apps) {\n            for(let ptr of app.pointers) {\n                if (!ptr.dereferenced) {\n                    console.error('Non dereferenced pointed in addBackPointers - pointers should all be dereferenced by now');\n                    continue;\n                }\n                ptr.dereferenced!.setAttribute('app-ref', app.id);\n            }\n        }\n    }\n\n    private buildGroupsInApps() {\n        // Build the groups in all App objects\n        for(const app of this.apps) {\n            app.buildGroups();\n        }\n    }\n}\n","import XmlCache from \"./xml-cache\";\nimport { Edition, EditionWithBody, MSEdition } from \"./edition\";\nimport { Spine } from \"./spine\";\n\n/*\n * This class contains the application Store, which holds all the TEI data, as well as processed data.\n * We are not using a Redux store here to save time. In the future we might turn this into a Redux store.\n * In the mean time, we have a singleton store instance, which is passed to the root component of the application,\n * (although the singleton can just be accessed by any class)\n */\n\n class FvStoreClass {\n     public readonly cache: XmlCache;\n     public readonly editions: Edition[];\n     public readonly spines: Spine[];\n     public static instance = new FvStoreClass();\n\n     private constructor() {\n         this.cache = new XmlCache();\n         this.editions = [\n            new MSEdition('MS', 'MS', [7, 8, 9, 10]),\n            new EditionWithBody('1818', '1818', [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]),\n            new EditionWithBody('Thomas', 'Thomas', [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]),\n            new EditionWithBody('1823', '1823', [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]),\n            new EditionWithBody('1831', '1831', [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]),\n         ]\n\n         this.spines = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((i) => new Spine(i));\n     }\n\n     public getEdition(code: string): Edition {\n         const ed = this.editions.find((ed) => ed.code === code);\n\n         if (!ed) {\n             throw new Error(`Can't find edition ${code}`);\n         }\n         return ed;\n     }\n\n     public getSpine(chunk: number): Spine {\n         const spine = this.spines.find((sp) => sp.chunkNumber === chunk);\n\n         if(!spine) {\n             throw new Error(`Can't find spine for chunk ${chunk}`);\n         }\n         return spine;\n     }\n }\n\nconst FvStore = FvStoreClass.instance;\nexport default FvStore;  // Everybody can just access FvStore.property","import { Edition } from \"../../data/edition\";\nimport React from \"react\";\n\ninterface EditionDotProps {\n    edition: Edition;\n    small?: boolean | undefined;\n}\n\nclass EditionDot extends React.Component<EditionDotProps> {\n    render() {\n        let classes = `dot ed-${this.props.edition.code}`;\n        if (this.props.small) {\n            classes += ' small-dot';\n        }\n\n        return <span className={classes}/>;\n    }\n}\n\nexport default EditionDot;","import React from 'react';\nimport Select from 'react-select';\nimport { Edition } from '../../data/edition';\nimport FvStore from '../../data/store';\nimport EditionDot from '../helpers/EditionDot';\n\nexport interface SelectOption {\n    value: string;\n    label: any;// HTMLSpanElement;\n}\n\ninterface EditionSelectorProps {\n    editions: Edition[],\n    edition: Edition,\n\n    onEditionSelected: (edition: Edition) => void;\n}\n\ninterface EditionSelectorState {\n    availableEditions: SelectOption[],\n    selectedEdition: SelectOption | undefined,\n}\n\nclass EditionSelector extends React.Component<EditionSelectorProps, EditionSelectorState> {\n\n    state = {\n        availableEditions: [] as SelectOption[],\n        selectedEdition: undefined as SelectOption | undefined,\n    }\n    \n    componentDidMount = () => {\n        const editions = FvStore.editions.map((ed, index) => ({ key: index, value: ed.code, label: <label><EditionDot edition={ ed }/>{ed.name}</label> } as SelectOption));\n\n        // Select the first edition\n        this.setState({ availableEditions: editions, selectedEdition: editions[0] });\n        this.props.onEditionSelected(this.props.editions[0]);\n    }\n\n    componentDidUpdate(prevProps: EditionSelectorProps) {\n        if(prevProps.edition !== this.props.edition) {\n            const option = this.state.availableEditions.find((ed) => ed.value === this.props.edition.code);\n            if(option) {\n                this.setState( { selectedEdition: option });\n            }\n        }\n    }\n\n    editionChanged = (selectedOption: SelectOption) => {\n        const edition = FvStore.editions.find((ed) => ed.code === selectedOption.value);\n        if(!edition) {\n            console.warn(`Couldn't find edition for selection ${selectedOption.value}`);\n            return;\n        }\n\n        this.setState( { selectedEdition: selectedOption });\n        this.props.onEditionSelected(edition);\n    }\n\n\n    render() {\n        return (\n        <div>\n            <label className='bold-choose'>CHOOSE A VERSION</label>\n            <Select\n                className='select-style'\n                onChange={this.editionChanged}\n                options={this.state.availableEditions}\n                value={this.state.selectedEdition}\n            ></Select>\n        </div>\n        );\n    }\n}\n\nexport default EditionSelector;\n","import React from 'react';\nimport ReactHtmlParser from 'react-html-parser';\n\nexport interface TeiReactElementProps {\n   htmlTag?: string;\n   tag: string;\n   id?: string;\n   teiProps: any;\n   showText: boolean;\n   showVariations: boolean;\n}\n\nclass TeiReactElement extends React.Component<TeiReactElementProps> {\n     \n   render() {\n      let tag = '';\n      let closingTag = '';\n\n      if(this.props.htmlTag) {\n         tag = `<${this.props.htmlTag}>`;\n         closingTag = `</${this.props.htmlTag}>`;\n      }\n\n      return (\n         <div className={`tei-element tei-${this.props.tag}`} data-tei-tag={this.props.tag}>\n             {/* data-app-ref={appRef}> */}\n            {ReactHtmlParser(tag)}\n            {this.props.children}\n            {ReactHtmlParser(closingTag)}\n         </div>\n      );\n   }\n}\n\nexport default TeiReactElement;\n","import React from 'react';\n\ninterface TeiReactTextProps {\n    text: string;\n    showText: boolean;\n    showVariations: boolean;\n}\n\nclass TeiReactText extends React.Component<TeiReactTextProps> {\n\n    render() {\n        let classes = 'tei-cdata';\n        if (!this.props.showText) {\n            classes += ' no-text';\n        }\n\n        return (\n            <span className={classes}>\n                { this.props.text }      \n            </span>\n        );\n    }\n}\n\nexport default TeiReactText;\n","import React from 'react';\nimport { Apparatus } from '../../data/spine';\nimport { Edition } from '../../data/edition';\nimport EditionDot from '../helpers/EditionDot';\n\ninterface TeiAppWrapperProps {\n   showVariations: boolean;\n   showText: boolean;\n   edition?: Edition;\n   app: Apparatus;\n   onAppClick?: (app: Apparatus) => void,\n}\n\nclass TeiAppWrapper extends React.Component<TeiAppWrapperProps> {\n   onClick = () => {\n      if (this.props.showVariations && this.props.onAppClick) {\n         this.props.onAppClick(this.props.app);\n      }\n   }\n\n   render() {\n      if(!this.props.showVariations) {\n         return <div className='app-wrapper-hidden'>{ this.props.children }</div>;\n      }\n\n      const intensity = this.props.app.n || 1;\n      const level = (intensity < 5) ? 1 : (intensity < 25) ? 2 : 3;\n      const classes = `app-wrapper app-intensity-${level}`;\n\n      // Calculate the dot elements\n      const groups = this.props.app.getOtherGroups(this.props.edition!);\n      let dotElements: any[] = [];\n      let key = 0;\n      for(const group of groups) {\n         const groupDots = group.editions.map((ed) => <EditionDot small={true} edition={ ed } key={ed.code} />);\n         dotElements = dotElements.concat(groupDots);\n         dotElements.push(<span className='dot dot-break' key={key}/>);\n         key++;\n      }\n\n      let dotClasses = 'app-wrapper-dots';\n      if(!this.props.showText) {\n         dotClasses += ' no-text';\n      }\n\n      return (\n         <div className={classes} onClick={this.onClick}>\n            <div className={dotClasses}>\n               { dotElements }\n            </div>\n            { this.props.children }\n         </div>\n      );\n   }\n}\n\nexport default TeiAppWrapper;\n","/* This file contains a class that takes the TEI and converts it into a React tree */\n\nimport React, { ReactNode } from 'react';\nimport TeiReactElement from '../components/tei/TeiReactElement';\nimport TeiReactText from '../components/tei/TeiReactText';\nimport { Chunk, Edition } from '../data/edition';\nimport TeiAppWrapper from '../components/tei/TeiAppWrapper';\nimport { Apparatus } from '../data/spine';\n\nexport class TeiConverter {\n    private static index = 0;\n\n    constructor(private showVariations: boolean, private showText: boolean, private edition?: Edition, private chunk?: Chunk) {\n    }\n\n    private getHtmlTag(teiTag: string) {\n        if (teiTag === 'p') {\n            return 'p';\n        } else if (teiTag === 'head') {\n            return 'h3';\n        }\n\n        return undefined;\n    }\n\n    private buildProperties(node: Node): any {\n        const nodeAttributes = (node as any).attributes;\n        const valueProps: any = {};\n\n        for (var i = 0; i < nodeAttributes.length; i++) {\n            let name = nodeAttributes[i].nodeName;\n            if (name === 'xml:id') {\n                name = 'id';\n            }\n            valueProps[name] = nodeAttributes[i].nodeValue;\n        }\n\n        return valueProps;\n    }\n\n    public teiToReactElement(node: Node, onAppClick?: (app: Apparatus) => void): ReactNode {  // Returns a single React element\n        const reactChildren: ReactNode[] = [];\n        // create elements for all children\n        if (node.hasChildNodes()) {\n            for (let i = 0; i < node.childNodes.length; i++) {\n                const childNode = node.childNodes[i];\n                let childElement: ReactNode = undefined;\n                if (childNode.nodeType === 1) {\n                    childElement = this.teiToReactElement(childNode, onAppClick);\n                } else if (childNode.nodeType === 3) {\n                    let text = childNode.textContent || '';\n                    text = text.trim();\n                    if (text) {\n                        childElement = React.createElement(TeiReactText, {\n                            text: childNode.textContent || '',\n                            showText: this.showText,\n                            showVariations: this.showVariations,\n                            key: TeiConverter.index++,\n                        });\n                    }\n                } else {\n                    console.warn('Child node of unrecognizezd type: ', childNode);\n                }\n\n                if (childElement) {\n                    reactChildren.push(childElement);\n                }\n            }\n        }\n\n        // build properties\n        const teiProps = this.buildProperties(node);\n\n        // return create react element\n        var props: any = {\n            tag: node.nodeName,\n            key: TeiConverter.index++,\n            htmlTag: this.getHtmlTag(node.nodeName),\n            showText: this.showText,\n            showVariations: this.showVariations,\n            teiProps: teiProps,\n        };\n\n        let reactElement: ReactNode = React.createElement(TeiReactElement, props, reactChildren); // Pass children\n\n        if (this.chunk && this.showVariations && teiProps['app-ref']) {\n            const app = this.chunk.getApp(teiProps['app-ref']);\n\n            // We have an <app> to wrap around the element\n            reactElement = React.createElement(TeiAppWrapper, {\n                key: TeiConverter.index++,\n                showVariations: this.showVariations,\n                showText: this.showText,\n                edition: this.edition,\n                onAppClick,\n                app},\n            [reactElement])\n        }\n\n        return reactElement;\n    }\n}\n","import React, { ReactNode } from 'react';\nimport { TeiConverter } from '../../tei-processing/tei-converter';\nimport { Chunk, Edition } from '../../data/edition';\nimport { Apparatus } from '../../data/spine';\n\ninterface TeiRenderingProps {\n    chunk: Chunk;\n    showVariations: boolean;\n    showText: boolean;\n    edition: Edition;\n    onAppClick?: (app: Apparatus) => void;\n}\n\ninterface TeiRenderingState {\n    elements?: ReactNode[];\n}\n\nclass TeiRendering extends React.Component<TeiRenderingProps, TeiRenderingState> {\n    state = {\n        elements: undefined,\n    }\n\n    componentDidMount() {\n        this.getTeiObjects();\n    }\n\n    componentDidUpdate(prevProps: TeiRenderingProps) {\n        if(!prevProps || \n            this.props.chunk !== prevProps.chunk || \n            this.props.edition !== prevProps.edition || \n            this.props.showText !== prevProps.showText ||\n            this.props.showVariations !== prevProps.showVariations) {\n            this.getTeiObjects(); // No matter which property has changed, we need to render everything again\n        }\n    }\n\n    getTeiObjects = () => {\n        const converter = new TeiConverter(this.props.showVariations, this.props.showText, this.props.edition, this.props.chunk);\n        const elements = this.props.chunk.mainRoots.map((root) => converter.teiToReactElement(root, this.props.onAppClick));\n\n        this.setState( { elements });\n    } \n\n    render() {\n        return (\n            <div className=\"tei-container\">\n                { this.state.elements }\n            </div>\n        );\n    }\n}\n\nexport default TeiRendering;\n","import React from 'react';\nimport { Edition } from '../../data/edition';\nimport Select from 'react-select';\nimport { SelectOption } from './EditionSelector';\n\ninterface PagingProps {\n    edition: Edition | undefined;\n    chunk: number;\n    onChunkSelected: (chunk: number) => void;\n}\n\ninterface PagingState {\n    chunkIndex: number,\n    selectedOption: SelectOption | undefined,\n    availableChunks: SelectOption[],\n    disablePrev: boolean,\n    disableNext: boolean,\n}\n\nclass Paging extends React.Component<PagingProps, PagingState> {\n\n    state = {\n        chunkIndex: this.props.chunk,\n        selectedOption: undefined as SelectOption | undefined,\n        availableChunks: [] as SelectOption[],\n        disablePrev: true,\n        disableNext: false,\n    }\n\n    componentDidUpdate(prevProps: PagingProps) {\n        if (this.props.edition !== prevProps.edition) {\n            let chunks = [] as SelectOption[];\n            if (this.props.edition) {\n                chunks = this.props.edition.chunks.map((c) => ({ value: c.toString(), label: c.toString() } as SelectOption));\n                let prevChunkIndex = 0;\n                if (prevProps) {\n                    prevChunkIndex = this.state.availableChunks.findIndex((opt) => opt.value === prevProps.chunk.toString());\n                    if (prevChunkIndex === -1) {\n                        prevChunkIndex = 0;\n                    }\n                }\n\n                const firstChunk = this.props.edition.chunks[prevChunkIndex];\n                this.setState( { availableChunks: chunks, chunkIndex: prevChunkIndex, selectedOption: chunks[prevChunkIndex] });\n                this.props.onChunkSelected(firstChunk);\n            }\n        }\n\n        if (this.props.chunk !== prevProps.chunk) {\n            const index = this.state.availableChunks.findIndex((opt) => opt.value === this.props.chunk.toString());\n            if (index !== -1) {\n                this.setState({ \n                    chunkIndex: index, \n                    selectedOption: this.state.availableChunks[index], \n                    disablePrev: index===0, \n                    disableNext: index===this.state.availableChunks.length - 1 \n                });\n            } else {\n                console.warn(`Can't set pager to non existing chunk ${this.props.chunk}`);\n                this.setState({ chunkIndex: 0, selectedOption: this.state.availableChunks[0], disablePrev: true, disableNext: this.state.availableChunks.length === 1 });\n            }\n            \n        }\n    }\n\n    onChunkChanged = (selectedOption: SelectOption) => {\n        const chunk = parseInt(selectedOption.value);\n        const index = this.state.availableChunks.findIndex((opt) => opt.value === chunk.toString());\n        this.setState({ chunkIndex: index, selectedOption });\n\n        this.props.onChunkSelected(chunk);\n    }\n\n    updateChunk = (delta: number) => {\n        this.setState( {disablePrev: false, disableNext: false} );\n        const chunk = this.state.chunkIndex + 1;\n        const newChunk = chunk + delta;\n        if (newChunk === 1) {\n            this.setState( {disablePrev: true} );\n        } else if (newChunk === this.state.availableChunks.length) {\n            this.setState( {disableNext: true })\n        }\n        if (this.props.edition!.chunks.indexOf(newChunk) === -1) {\n            return;\n        }\n        const newOption = this.state.availableChunks.find((opt) => opt.value === newChunk.toString());\n        if (!newOption) {\n            console.error(\"Can't locate new option!\")\n        }\n        this.setState({ chunkIndex: newChunk - 1, selectedOption: newOption });\n        this.props.onChunkSelected((newChunk));\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.edition ?\n                <div>\n                    <div className='in-line'>\n                        <label className='bold-choose'>CHOOSE A SECTION</label>\n                        <Select\n                            className='select-style'\n                            onChange={this.onChunkChanged}\n                            options={this.state.availableChunks}\n                            value={this.state.selectedOption}\n                        />\n                    </div>\n                    \n                    <div className='in-line paging-buttons'>\n                        <button onClick={() => this.updateChunk(-1)} className='prev'\n                            disabled={this.state.disablePrev}></button><label>Previous Section</label>\n                        <label className='margin-button'>Next Section</label><button className='next'\n                            onClick={() => this.updateChunk(1)} disabled={this.state.disableNext}></button>\n                    </div>\n                </div>\n                : ''}\n            </div>\n        );\n    }\n}\n\nexport default Paging;\n","import React from 'react';\nimport FvStore from '../../data/store';\nimport { Edition } from '../../data/edition';\n\nimport variations from '../../images/intensity_legend.svg';\nimport EditionDot from '../helpers/EditionDot';\n\ninterface HeaderData {\n    edition: Edition | undefined;\n}\n\nclass Header extends React.Component<HeaderData> {\n\n    render() {\n        const editions = FvStore.editions.map((e, index) => \n            <label key={index} className='edition-label'><EditionDot edition={e} key={e.code}/>{e.name}</label>);\n        return (\n            <div>\n                <header className='viewer__cols'>\n                    <div id='viewer__legend-editions'>\n                        {editions}\n                    </div>\n                    <div id='viewer__title'  className='center-label'>\n                        {this.props.edition ?\n                        <h2>{this.props.edition.name} Edition</h2>\n                        : <h2>Edition</h2>}\n                    </div>\n                    <div id='viewer__legend-variance'>\n                        <label>Amount of Variance</label>\n                        <img className='variations' src={variations} alt={variations} />\n                    </div>\n                </header>\n\n                <hr className='line' />\n                <div className='viewer__cols'>\n                    <div className='center-label'>Marginalia</div>\n                    <div className='center-label'>Text</div>\n                    <div className='center-label'>Variations</div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Header;\n","import React from 'react';\n\ninterface OptionsSelectorProps {\n    showVariations: boolean,\n    showText: boolean,\n\n    onVariationChanged: (variation: boolean) => void;\n    onTextChanged: (text: boolean) => void;\n}\n\ninterface OptionsSelectorState {\n    showVariations: boolean,\n    showText: boolean,\n}\n\nclass OptionsSelector extends React.Component<OptionsSelectorProps, OptionsSelectorState> {\n\n    state = {\n        showVariations: true,\n        showText: true,\n    }\n    \n    componentDidUpdate(prevProps: OptionsSelectorProps) {\n        if (this.props.showVariations !== this.state.showVariations) {\n            this.setState( { showVariations: this.props.showVariations });\n        }\n\n        if(this.props.showText !== this.state.showText) {\n            this.setState( { showText: this.props.showText });\n        }\n        \n    }\n\n    onVariationChanged = () => {\n        const newShow = !this.state.showVariations;\n        this.setState( { showVariations: newShow });\n        this.props.onVariationChanged(newShow);\n    }\n    \n    onTextChanged = () => {\n        const newShowText = !this.state.showText;\n        this.setState( { showText: newShowText });\n        this.props.onTextChanged(newShowText);\n    }\n    \n    render() {\n        return (\n        <div>\n            <label className='options-label bold-choose'>CHOOSE OPTIONS</label>\n            <label className='options-label'>\n                <input\n                    name=\"variation\"\n                    type=\"checkbox\"\n                    checked={this.state.showVariations}\n                    onChange={this.onVariationChanged} />\n                See Variants\n            </label>\n            \n            <label className='options-label'>\n                <input\n                    name=\"text\"\n                    type=\"checkbox\"\n                    checked={this.state.showText}\n                    onChange={this.onTextChanged} />\n                See Text\n            </label>\n        </div>\n        );\n    }\n}\n\nexport default OptionsSelector;\n","import { ReadingGroup } from \"../../data/spine\";\nimport React from \"react\";\nimport EditionDot from \"../helpers/EditionDot\";\nimport { TeiConverter } from \"../../tei-processing/tei-converter\";\n\ninterface ReadingGroupComponentProps {\n    group: ReadingGroup;\n}\n\n// Note: This class is called ReadingGroupComponent because ReadingGroup is already taken\nclass ReadingGroupComponent extends React.Component<ReadingGroupComponentProps> {\n    render() {\n        const editionNames = this.props.group.editions.map((ed) => ed.name);\n        const title = editionNames.join(', ')\n        const dots = this.props.group.editions.map((ed) => <EditionDot small={true} edition={ed} key={ed.code}/>);\n\n        const converter = new TeiConverter(false, true);\n        const content = converter.teiToReactElement(this.props.group.element);\n\n        return (\n            <div className='reading-group'>\n                <div className='reading-group-dots'>{ dots }</div>\n                <div className='reading-group-title'>{ title }</div>\n                <div className='reading-group-content'>\n                    { content }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ReadingGroupComponent;","import { Apparatus } from \"../../data/spine\";\nimport React from \"react\";\nimport { Edition } from \"../../data/edition\";\nimport ReadingGroupComponent from \"./ReadingGroupComponent\";\n\ninterface VariationProps {\n    app: Apparatus;\n    edition: Edition;\n}\n\nclass Variation extends React.Component <VariationProps> {\n    render() {\n        const groups = this.props.app.groups.map((grp) => (\n            <ReadingGroupComponent group={grp} key={grp.groupId}/>\n        ))\n        return (\n            <div className=\"app-list\">\n                <hr className=\"app-list-to-divider\"/>\n                { groups }\n            </div>\n        )\n    }\n}\n\nexport default Variation;","import React from 'react';\nimport EditionSelector from '../PageLayout/EditionSelector';\nimport TeiRendering from '../tei/TeiContainer';\nimport FvStore from '../../data/store';\nimport { Edition, Chunk } from '../../data/edition';\nimport Paging from '../PageLayout/Paging';\nimport Header from '../PageLayout/Header';\nimport OptionsSelector from '../PageLayout/OptionsSelector';\nimport { Apparatus } from '../../data/spine';\nimport Variation from '../Variations/Variation';\n\ninterface ViewerProperties { }\n\ninterface ViewerState {\n    loading: boolean,\n    chunk?: Chunk,\n    chunkNumber: number,\n    edition?: Edition,\n    showVariations: boolean,\n    showText: boolean,\n    app: Apparatus | undefined,\n}\n\nclass Viewer extends React.Component <ViewerProperties, ViewerState> {\n    state = {\n        loading: false,\n        chunk: undefined as Chunk | undefined,\n        edition: undefined as Edition | undefined,\n        chunkNumber: 0,\n\n        showVariations: true,\n        showText: true,\n        app: undefined,\n    }\n\n    \n    onNewChunk = async (chunkNumber: number) => {\n        this.setState( {loading: true, chunk: undefined } );\n        \n        if (!this.state.edition) {\n            throw new Error(\"Cannot get chunk if there is no an edition\");\n        }\n        const chunk = await Chunk.load(this.state.edition, chunkNumber);\n        this.setState( {loading: false, chunk, chunkNumber: chunk.chunkNumber, app: undefined } );\n    }\n\n    onNewEdition = (edition: Edition) => {\n        this.setState( { edition, app: undefined } );\n    }\n    onVariation = (show: boolean) => {\n        this.setState( { showVariations: show } );\n    }\n    onText = (show: boolean) => {\n        this.setState( { showText: show } );\n    }\n\n    onAppClick = (app: Apparatus) => {\n        this.setState( {app} );\n    }\n\n    render() {\n        return (\n            <section id='viewer'>\n                <div id='viewer__controls'>\n                    <EditionSelector\n                    key={0}\n                    editions={FvStore.editions} \n                    edition={this.state.edition!}\n                    onEditionSelected={this.onNewEdition}\n                    />\n\n                    <Paging\n                    key={1}\n                    edition={this.state.edition} \n                    chunk={this.state.chunkNumber}\n                    onChunkSelected={this.onNewChunk} />\n\n                    <OptionsSelector \n                    showVariations={this.state.showVariations}\n                    showText={this.state.showText}\n                    onVariationChanged={this.onVariation}\n                    onTextChanged={this.onText}\n                    />\n                </div>\n                \n                <Header\n                edition={this.state.edition} />\n\n                <div id='viewer__contents' className='viewer__cols'>\n                    <aside id=\"viewer__marginalia\">\n                    </aside>\n                    { this.state.chunk && this.state.edition ? \n                    <TeiRendering\n                    chunk={this.state.chunk}\n                    edition={this.state.edition}\n                    showVariations={this.state.showVariations}\n                    showText={this.state.showText}\n                    onAppClick={this.onAppClick}/> : <div></div>}\n                    <aside id=\"viewer_variations\">\n                        { this.state.app ? <Variation app={this.state.app!} edition={this.state.edition!}/> : '' }\n                    </aside>\n                </div>\n\n                <hr className='line' />\n                <footer id=\"viewer_pagination_controls\">\n                    <EditionSelector\n                    key={2}\n                    editions={FvStore.editions} \n                    edition={this.state.edition!}\n                    onEditionSelected={this.onNewEdition}\n                    />\n                    <Paging\n                    key={3}\n                    edition={this.state.edition} \n                    chunk={this.state.chunkNumber}\n                    onChunkSelected={this.onNewChunk} />\n                </footer>\n            </section>\n        );\n    }\n}\n\nexport default Viewer;\n","import React from 'react';\nimport Viewer from './components/Viewer/Viewer';\nimport './styles/sass/style.sass';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"App\">\n          <Viewer />\n        </div>\n      </div>);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}